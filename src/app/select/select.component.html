<!-- -->
<!-- Copyright 2020 Alexander Saastamoinen -->
<!-- -->
<!--  Licensed under the EUPL, Version 1.2 or â€“ as soon they -->
<!-- will be approved by the European Commission - subsequent -->
<!-- versions of the EUPL (the "Licence"); -->
<!--  You may not use this work except in compliance with the -->
<!-- Licence. -->
<!--  You may obtain a copy of the Licence at: -->
<!-- -->
<!--  https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12 -->
<!-- -->
<!--  Unless required by applicable law or agreed to in -->
<!-- writing, software distributed under the Licence is -->
<!-- distributed on an "AS IS" basis, -->
<!--  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either -->
<!-- express or implied. -->
<!--  See the Licence for the specific language governing -->
<!-- permissions and limitations under the Licence. -->
<!-- -->

<div *ngFor="let parent of checkboxes" class="selector">
	<mat-checkbox color="primary"
								[checked]="parent.selected"
								[indeterminate]="parent.someSelected()"
								(change)="parent.setAll($event.checked); emitMasks(parent)">
		{{ parent.name | titlecase }}
	</mat-checkbox>
	<div class="nested" *ngIf="parent.children">
		<mat-checkbox color="primary" *ngFor="let child of parent.children"
									[checked]="child.selected"
									(change)="child.toggle($event.checked); parent.updateAllCompleted(); emitMask(child.mask, !child.selected)">
			{{ child.name | titlecase }}
		</mat-checkbox>
	</div>
</div>
